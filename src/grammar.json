{
  "name": "spml",
  "rules": {
    "document": {
      "type": "REPEAT",
      "content": {
        "type": "SYMBOL",
        "name": "_top_level_tag"
      }
    },
    "_top_level_tag": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "include_tag"
        },
        {
          "type": "SYMBOL",
          "name": "if_tag"
        },
        {
          "type": "SYMBOL",
          "name": "condition_tag"
        },
        {
          "type": "SYMBOL",
          "name": "text"
        }
      ]
    },
    "argument_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "argument_tag_open"
        },
        {
          "type": "SYMBOL",
          "name": "name_attribute"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "default_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "locale_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "value_attribute"
                },
                {
                  "type": "SYMBOL",
                  "name": "self_closing_tag_end"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "text_attribute"
                },
                {
                  "type": "SYMBOL",
                  "name": "self_closing_tag_end"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "expression_attribute"
                },
                {
                  "type": "SYMBOL",
                  "name": "self_closing_tag_end"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "condition_attribute"
                },
                {
                  "type": "SYMBOL",
                  "name": "self_closing_tag_end"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "object_attribute"
                },
                {
                  "type": "SYMBOL",
                  "name": "self_closing_tag_end"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": ">"
                },
                {
                  "type": "SYMBOL",
                  "name": "text"
                },
                {
                  "type": "SYMBOL",
                  "name": "argument_tag_close"
                }
              ]
            }
          ]
        }
      ]
    },
    "argument_tag_open": {
      "type": "STRING",
      "value": "<sp:argument"
    },
    "argument_tag_close": {
      "type": "STRING",
      "value": "</sp:argument>"
    },
    "condition_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "condition_tag_open"
        },
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "SYMBOL",
          "name": "if_tag"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "elseif_tag"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "else_tag"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "condition_tag_close"
        }
      ]
    },
    "condition_tag_open": {
      "type": "STRING",
      "value": "<sp:condition"
    },
    "condition_tag_close": {
      "type": "STRING",
      "value": "</sp:condition>"
    },
    "else_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "else_tag_open"
        },
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_top_level_tag"
          }
        },
        {
          "type": "SYMBOL",
          "name": "else_tag_close"
        }
      ]
    },
    "else_tag_open": {
      "type": "STRING",
      "value": "<sp:else"
    },
    "else_tag_close": {
      "type": "STRING",
      "value": "</sp:else>"
    },
    "elseif_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "elseif_tag_open"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "condition_attribute"
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "name_attribute"
                },
                {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "CHOICE",
                      "members": [
                        {
                          "type": "SYMBOL",
                          "name": "isNull_attribute"
                        },
                        {
                          "type": "SEQ",
                          "members": [
                            {
                              "type": "CHOICE",
                              "members": [
                                {
                                  "type": "SYMBOL",
                                  "name": "contains_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "eq_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "neq_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "gt_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "gte_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "lt_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "lte_attribute"
                                }
                              ]
                            },
                            {
                              "type": "CHOICE",
                              "members": [
                                {
                                  "type": "SYMBOL",
                                  "name": "ic_attribute"
                                },
                                {
                                  "type": "BLANK"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BLANK"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "locale_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_top_level_tag"
          }
        },
        {
          "type": "SYMBOL",
          "name": "elseif_tag_close"
        }
      ]
    },
    "elseif_tag_open": {
      "type": "STRING",
      "value": "<sp:elseif"
    },
    "elseif_tag_close": {
      "type": "STRING",
      "value": "</sp:elseif>"
    },
    "if_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "if_tag_open"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "condition_attribute"
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "name_attribute"
                },
                {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "CHOICE",
                      "members": [
                        {
                          "type": "SYMBOL",
                          "name": "isNull_attribute"
                        },
                        {
                          "type": "SEQ",
                          "members": [
                            {
                              "type": "CHOICE",
                              "members": [
                                {
                                  "type": "SYMBOL",
                                  "name": "contains_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "eq_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "neq_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "gt_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "gte_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "lt_attribute"
                                },
                                {
                                  "type": "SYMBOL",
                                  "name": "lte_attribute"
                                }
                              ]
                            },
                            {
                              "type": "CHOICE",
                              "members": [
                                {
                                  "type": "SYMBOL",
                                  "name": "ic_attribute"
                                },
                                {
                                  "type": "BLANK"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BLANK"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "locale_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_top_level_tag"
          }
        },
        {
          "type": "SYMBOL",
          "name": "if_tag_close"
        }
      ]
    },
    "if_tag_open": {
      "type": "STRING",
      "value": "<sp:if"
    },
    "if_tag_close": {
      "type": "STRING",
      "value": "</sp:if>"
    },
    "include_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "include_tag_open"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "module_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "anchor_attribute"
            },
            {
              "type": "SYMBOL",
              "name": "template_attribute"
            },
            {
              "type": "SYMBOL",
              "name": "uri_attribute"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "return_attribute"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "self_closing_tag_end"
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": ">"
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SYMBOL",
                    "name": "argument_tag"
                  }
                },
                {
                  "type": "SYMBOL",
                  "name": "include_tag_close"
                }
              ]
            }
          ]
        }
      ]
    },
    "include_tag_open": {
      "type": "STRING",
      "value": "<sp:include"
    },
    "include_tag_close": {
      "type": "STRING",
      "value": "</sp:include>"
    },
    "self_closing_tag_end": {
      "type": "STRING",
      "value": "/>"
    },
    "anchor_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "anchor="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "condition_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "condition="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "contains_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "contains="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "default_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "default="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "eq_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "eq="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "expression_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "expression="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "gt_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "gt="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "gte_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "gte="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "ic_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "ic="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "isNull_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "isNull="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "locale_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "locale="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "lt_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "lt="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "lte_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "lte="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "module_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "module="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "name_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "name="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "neq_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "neq="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "object_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "object="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "return_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "return="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "template_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "template="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "text_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "text="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "uri_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "uri="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "value_attribute": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "value="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "string": {
      "type": "PATTERN",
      "value": "\"[^\"]*\""
    },
    "text": {
      "type": "PATTERN",
      "value": "[^<>]+"
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}

